<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="da" style="font-size: 100%" class="lang-da">
<head>
	<title>fcoo.dk - fcoo-application</title>
	<meta charset="utf-8" />
	<meta name='owner' content='fcoo'>

    <link  href="bower_components.css" rel="stylesheet">
    <link  href="../src/fcoo-application.css" rel="stylesheet">
    <style>
        /* Test */

        body {
//            background-color: gray;
        }

        .main-container {
            background-color: yellow;//gray;
            border: 10px solid blue;
            padding: 4px;
        }

        .touch-menu-handle {
//            background-color: green;
        }
        
        .show-for-tm-size-0,
        .show-for-tm-size-1,

        .show-for-rm-size-0,
        .show-for-rm-size-1,
        .show-for-rm-size-2,

        .show-for-bm-size-0,
        .show-for-bm-size-1,
        .show-for-bm-size-2 {
            display: none;
        }
        html.tm-size-0 .show-for-tm-size-0 { display: block; }
        html.tm-size-1 .show-for-tm-size-1 { display: block; }

        html.rm-size-0 .show-for-rm-size-0 { display: block; }
        html.rm-size-1 .show-for-rm-size-1 { display: block; }
        html.rm-size-2 .show-for-rm-size-2 { display: block; }

        html.bm-size-0 .show-for-bm-size-0 { display: block; }
        html.bm-size-1 .show-for-bm-size-1 { display: block; }
        html.bm-size-2 .show-for-bm-size-2 { display: block; }
        
// HER>         :root {
// HER>             --fcoo-app-text-color-63: red;
// HER>         }            

        .bgColor   { background-color: #3f5b58; }
        .bgColor25 { background-color: #78a29d; }
        .bgColor63 { background-color: #eaf1f0; }

.break {
  flex-basis: 100%;
  width: 0;
  height: 0;
}
    
    
    </style>

</head>

<body>
    <div class="loading fcoo-app-background">
        <div class="version fcoo-app-color"></div>
        <div class="logo fcoo-app-color"></div>
    </div>

    <script>
        window.fcoo = window.fcoo || {};
        window.fcoo.DEMO_VERSION = true;
// HER>         window.fcoo.centerConsole = function(text){ console.log('****', text, '****'); }
        
        function toggleH( elem) {
            const $elem = $(elem);
            $elem.height( $elem.height() == 100 ? 150 : 100);
        }            
        function toggleW(elem) {
            const $elem = $(elem);
            $elem.width( $elem.width() == 100 ? 150 : 100);
        }            
        
    </script>


    <script src="bower_components.js"></script>

    <!-- <script src="../src/fcoo-application-loading.js"></script> -->

    <!-- <script src="../src/fcoo-application-global-events.js"></script> -->
    <script src="../src/fcoo-application-about.js"></script>
    <script src="../src/fcoo-application-color.js"></script>
    <script src="../src/fcoo-application-general.js"></script>
    <script src="../src/fcoo-application-help.js"></script>
    <script src="../src/fcoo-application-icon.js"></script>
    <script src="../src/fcoo-application-main.js"></script>
    <script src="../src/fcoo-application-message-group.js"></script>
    <script src="../src/fcoo-application-mmenu.js"></script>
    <script src="../src/fcoo-application-offline.js"></script>
    <script src="../src/fcoo-application-promise.js"></script>
    <script src="../src/fcoo-application-reset.js"></script>
    <script src="../src/fcoo-application-setting.js"></script>
    <script src="../src/fcoo-application-touch.js"></script>
    <script src="../src/fcoo-application-top-menu.js"></script>

	<script>
        window.bsIsTouch = false;
        window.bsIsTouch = (window.location.search =='?touch');

        i18next.init();
        i18next.changeLanguage('en');
       

        function modalDemo(){
            $.bsModal({
                header: {
                    icon: fcoo.settingIcon('fa-map'),
                    text: 'Davs'
                },
                footer: {
                    icon: fcoo.settingIcon('fa-map'),
                    text: 'Davs'
                },
                icons: {
                    back: { onClick: function(){} },
                    forward: { onClick: function(){} },
                },

                onPin    : function(){},
                onNew    : function(){},
                onInfo   : function(){},
                onWarning: function(){},

                helpId: 'help1',
                helpButton: true,
                extended: {
                    content: 'Hej<br>Dette er udvidet'
                },
                buttons: [
                    {text:'Test', onClick: function(){ alert('Test'); }},
                ],
                content: [{
                    icon: fcoo.settingIcon('fa-map'),
                    text: 'Davs'
                }],
                //scroll: false,
                remove: true,
                show: true
            });

        }
        function setNewAppColor(select){
            var newColor = select.value == 'random' ? chroma.random().hex() : select.value;
            console.log(newColor, '=>', fcoo.setApplicationColors(newColor) );
        }
        
        function notyDemo(){
            var layout = ['topLeft', 'topCenter', 'topRight', 'centerRight', 'bottomCenter', 'center'];
            var type   = ['alert',   'success',   'warning',  'error',        'info',        'help' ];

            $.each(type, function(index, type){
                $.bsNoty({
                    type: type,
                    queue: type,
                    layout: layout[index],
                    //modal: (type=='info'),
                    //force: (type=='info'),
                    defaultHeader: true,
                    text: [
                        layout[index]+'<br>',
                        {text: {da: 'Noget tekst ', en: 'Some text '}},
                        Math.random()
                    ],
                    //show: true

                });
            });
            $.bsNotyOk({da: 'Noget lykkedes', en: 'Something succeeded'});

        }

        function setModeOver(menu){
            menu.setMode(true);
        };
        function setModeSide(menu){
            menu.setMode(false);

        };

        var main;
        $(function() {
            var $rightMenu = $('<div/>');
            $rightMenu.append('Start');
            for (var i=0; i<100; i++){
                $('<div/>')
                    .css({width: '100%', border:'1px solid red'})
                    .text(i)
                    .on('click', function(){
                        //alert( $(this).text());
                    })
                    .appendTo($rightMenu);
            }
            $rightMenu.append('SLUT');

            main = window.fcoo.createMain({
                    header: {da: 'DA: fcoo-application', en: 'EN: fcoo-application'},
                    mainContainerAsHandleContainer: true,
                    minMainWidth: 456,
                    
                    topMenu: {
                        //search: false,
                        preSetting: {
                            icon: 'far fa-map',
                            onClick: function(){alert('godt');  }
                        },
                        help: {
                            //url: ['data/help.json', 'data/about_fcoo.json', {fileName: "fcoo-maps-help_NY.json", subDir: "help"}]
                            url: {fileName: "fcoo-maps-help.json", subDir: "help"}

                        },
                        MANGLERmessages: {
//HER                            url: 'data/info.json data/show_on_load.json'
                            url: 'data/show_on_load.json'
                        },
                        warning: {
                            url: 'data/oceanforecast_warning.json data/oceanforecast_warning2.json',
                            //reloadPeriod: 'PT5S',
                        },
                        preSetting: {
                            icon   : window.fcoo.settingIcon('fa-map'),
                            onClick: function(){ console.log('Click on preSetting'); }
                        },

                    },
                    leftMenu  : {
                        width: 400, 
                        buttons: {
                            //preButtons  = []buttonOptions or buttonOptions or null //Individuel button(s) placed before the standard buttons
                            save    :   true, //Standard save-button
                            load    :   true, //Standard load-button
                            bookmark:   true, //Standard bootmark-button
                            share   :   function(){
                                            if (navigator.share) {
                                                navigator.share({
                                                    title: 'WebShare API Demo',
                                                    url: 'https://codepen.io/ayoisaiah/pen/YbNazJ'
                                                })
                                                .then(function(){
                                                    console.log('Thanks for sharing!');
                                                })
                                                .catch(console.error);
                                            }
                                            else {
                                                // fallback
                                                console.log('no share')
                                            }
                                        },
                            user   : true,
                            reset  : true,
                            setting: true,
                            //postButtons: {icon: fcoo.settingIcon('fa-map')} // = []buttonOptions or buttonOptions or null //Individuel button(s) placed after the standard buttons
                        },

                        menuOptions: {
                            reset: true,
                            resetText: {da:'Fravælg alle VENSTRE menuer', en:'Reset all LEFT menus'},
                            onChange: function(id, state, item){
                                console.log('GLOBAL onChange', id, state, item);
                            },
                            list: [{
                                icon: 'fa-map',
                                text: {da:'Første', en:'First'},
                                addToBar: true,
                                list: [{
                                    text: 'Item 1-1'
                                }, {
                                    type: "text", text: 'Item 1-2 der er meget lang med en masse tekst der gerne skal vises over flere linier', 
                                }]
                            }, {
                                        text: {da:'Overflade', en:'Surface'},
                                list: [{
                                    id: 'HER', text: 'HER Item 2-1', icon:'fa-home',
                                    list: [{
                                        text: 'Item 2-1-1 der er meget lang med en masse tekst der gerne skal vises over flere linier', icon:'fa-home', type:'checkbox', state: true
                                    }, {
                                        text: 'Item 2-1-2', type: 'checkbox'
                                    }, {
                                        text: 'Item 2-1-3', type: 'radio', state:123, icon:['fa-home', 'fa-map'],
                                    }, {
                                        text: 'Item 2-1-4', type: 'radio', state: true
                                    }]
                                }, {
                                    id:'SEALVL', text: {da: 'Vandstand', en:'Sea Level'},
                                    list: [
                                        {
                                            id: 'sealvl1',
                                            type:'radio', 
                                            content: [
                                                {text: {da: '1: Indre Danske Farvande', en:'1: Inner Danish Waters'}},
                                                $('<img height="30px" src="https://wms01.fcoo.dk/webmap/v2/data/DMI/HARMONIE/DMI_NEA_MAPS_v005C.nc.wms?request=GetColorbar&styles=horizontal%2Cnolabel&cmap=Wind_ms_BGYRP_11colors"/>'),
                                                //$('<img height="30px" src="https://wms01.fcoo.dk/webmap/v2/data/DMI/HARMONIE/DMI_NEA_MAPS_v005C.nc.wms?request=GetColorbar&styles=horizontal%2Cnolabel&cmap=Wind_ms_BGYRP_11colors"/>')
                                            ]
                                        }, {
                                            id: 'sealvl2',
                                            type:'radio', 
                                            content: [
                                                {text: {da: '2: Navigation', en:'2: Navigation'}},
                                                $('<img height="30px" src="https://wms01.fcoo.dk/webmap/v2/data/DMI/HARMONIE/DMI_NEA_MAPS_v005C.nc.wms?request=GetColorbar&styles=horizontal%2Cnolabel&cmap=Wind_ms_BGYRP_11colors"/>')
                                            ]
                                        }, {
                                            id: 'sealvl3',
                                            type:'radio', 
                                            content: [
                                                {text: {da: '3: Noget andet', en:'3: Something else'}},
                                                $('<img height="30px" src="https://wms01.fcoo.dk/webmap/v2/data/DMI/HARMONIE/DMI_NEA_MAPS_v005C.nc.wms?request=GetColorbar&styles=horizontal%2Cnolabel&cmap=Wind_ms_BGYRP_11colors"/>')
                                            ],
                                    }]
                                }]
                            }]
                        },
                    },

                    __rightMenu  : {
                        sizeList: [
                            {width: 300, modernizr: 'rm-size-0'}, 
                            {width: 400, modernizr: 'rm-size-1'}, 
                            {width: 600, modernizr: 'rm-size-2'}
                        ],
                        isOpen: true,
                        buttons: {
                            new   : true,                
                            edit  : true,
                            cancel: {groupClass:'class-save2-reset2', onClick: () => {console.log('CANCEL')  }},
                            ok    : {                                 onClick: () => {console.log('OK') }},
                        },                            
                        $menu: $('<div style="background-color: green"/>')
                                .append( $('<div style="width:200px; background-color:red;"    class="show-for-rm-size-0">show-for-rm-size-0<br>2<br>3<br>4<br>5</div>') )
                                .append( $('<div style="width:100%; background-color:yellow;" class="show-for-rm-size-1">show-for-rm-size-1<br>2<br>3<br>4<br>5</div>') )
                                .append( $('<div style="width:600px; background-color:green;"  class="show-for-rm-size-2">show-for-rm-size-2<br>2<br>3<br>4<br>5</div>') ),
                        
                        _menuOptions: {
                            reset: true,
                            resetText: 'Fravælg alle HØJRE menuer',
                            _favorites: false,
                            onChange: function(id, state, item){
                                console.log('GLOBAL onChange', id, state, item);
                            },
                            list: [{
                                icon: 'fa-map',
                                text: {da:'Første', en:'First'},
                                addToBar: true,
                                list: [{
                                    text: 'Item 1-1'
                                }, {
                                    type: "text", text: 'Item 1-2 der er meget lang med en masse tekst der gerne skal vises over flere linier', 
                                }]
                            }, {
                                        text: {da:'Overflade', en:'Surface'},
                                list: [{
                                    id: 'HER', text: 'HER Item 2-1', icon:'fa-home',
                                    list: [{
                                        text: 'Item 2-1-1 der er meget lang med en masse tekst der gerne skal vises over flere linier', icon:'fa-home', type:'checkbox', state: true
                                    }, {
                                        text: 'Item 2-1-2', type: 'checkbox'
                                    }, {
                                        text: 'Item 2-1-3', type: 'radio', state:123, icon:['fa-home', 'fa-map'],
                                    }, {
                                        text: 'Item 2-1-4', type: 'radio', state: true
                                    }]
                                }, {
                                    id:'SEALVL', text: {da: 'Vandstand', en:'Sea Level'},
                                    list: [
                                        {
                                            id: 'sealvl1',
                                            type:'radio', 
                                            content: [
                                                {text: {da: '1: Indre Danske Farvande', en:'1: Inner Danish Waters'}},
                                                $('<img height="30px" src="https://wms01.fcoo.dk/webmap/v2/data/DMI/HARMONIE/DMI_NEA_MAPS_v005C.nc.wms?request=GetColorbar&styles=horizontal%2Cnolabel&cmap=Wind_ms_BGYRP_11colors"/>'),
                                                //$('<img height="30px" src="https://wms01.fcoo.dk/webmap/v2/data/DMI/HARMONIE/DMI_NEA_MAPS_v005C.nc.wms?request=GetColorbar&styles=horizontal%2Cnolabel&cmap=Wind_ms_BGYRP_11colors"/>')
                                            ]
                                        }, {
                                            id: 'sealvl2',
                                            type:'radio', 
                                            content: [
                                                {text: {da: '2: Navigation', en:'2: Navigation'}},
                                                $('<img height="30px" src="https://wms01.fcoo.dk/webmap/v2/data/DMI/HARMONIE/DMI_NEA_MAPS_v005C.nc.wms?request=GetColorbar&styles=horizontal%2Cnolabel&cmap=Wind_ms_BGYRP_11colors"/>')
                                            ]
                                        }, {
                                            id: 'sealvl3',
                                            type:'radio', 
                                            content: [
                                                {text: {da: '3: Noget andet', en:'3: Something else'}},
                                                $('<img height="30px" src="https://wms01.fcoo.dk/webmap/v2/data/DMI/HARMONIE/DMI_NEA_MAPS_v005C.nc.wms?request=GetColorbar&styles=horizontal%2Cnolabel&cmap=Wind_ms_BGYRP_11colors"/>')
                                            ],
                                    }]
                                }]
                            }]
                        },

                        keepMenuButton: true, //Keeps the left menu-button even if leftMenu is null
                    },

                    rightMenu: {
                        sizeList: ['rm-size-0', 'rm-size-1', 'rm-size-2'],
                        
                        //standardHandler: true,

                        
                        $menu: $('<div style="background-color: green"/>')
                                .append( $('<div style="width: 100px; height:  50%; background-color: green;"  class="show-for-rm-size-0" onClick="javascript:toggleW(this)">100 show-for-rm-size-0</div>') )
                                .append( $('<div style="width: 200px; height:  75%; background-color: orange;" class="show-for-rm-size-1">200 show-for-rm-size-1</div>') )
                                .append( $('<div style="width: 350px; height: 100%; background-color: red;"    class="show-for-rm-size-2">350 show-for-rm-size-2</div>') )
                    },



                    
                    _rightMenu : {
                        width: 200,
                        $menu: $rightMenu,
                        buttons: {
                            //preButtons  = []buttonOptions or buttonOptions or null //Individuel button(s) placed before the standard buttons
                            save    :   function(){ console.log('save') }, //Standard save-button
                            bookmark:   function(){ console.log('bookmark') }, //Standard bootmark-button
                        }

                    },
                    _keepRightMenuButton: true, //Keeps the right menu-button even if leftMenu is null

                    bottomMenu: {
                        sizeList: ['bm-size-0', 'bm-size-1', 'bm-size-2'],
                        
                        standardHandler: true,

                        
                        $menu: $('<div style="background-color: green"/>')
                                .append( $('<div style="height:100px; width:100%; background-color: green;"  class="show-for-bm-size-0" onClick="javascript:toggleH(this)">100 show-for-bm-size-0</div>') )
                                .append( $('<div style="height:200px; width:100%; background-color: orange;" class="show-for-bm-size-1">200 show-for-bm-size-1</div>') )
                                .append( $('<div style="height:350px; width:100%; background-color: red;"    class="show-for-bm-size-2">350 show-for-bm-size-2</div>') )
                    },

                    onResizeStart: function(main){
                        //console.log('>>resize START', main.$mainContainer.width());
                    },
                    onResizeEnd: function(main){
                        //console.log('>>resize END', main.$mainContainer.width());
                    }
            });

            $('<button onClick="fcoo.globalSetting.set(\'language\', \'da\');"><span class="fa fa-lang-da"></span>&nbsp;Dansk</button>'+
            '<button onClick="fcoo.globalSetting.set(\'language\', \'en\');"><i class="fa fa-lang-en"></i>&nbsp;English</button><br>'+
            '<button onClick="modalDemo();">Modal demo</button>'+
            '<button onClick="notyDemo();">Noty demo</button>'+
            '<select onChange="setNewAppColor(this)">'+
                '<option value="#3f5b58">Defaults</option>'+
                '<option value="black">Black</option>'+
                '<option value="darkred">Dark Red</option>'+
                '<option value="#ffff00">Brøndby</option>'+
                '<option value="random">Random</option>'+
            '</select>'+
            '<div class="show-for-left-menu-open">Vises når left-menu er åben</div>' +
            '<div class="hide-for-left-menu-open">Vises når left-menu er lukket</div>' +
            '<div class="show-for-bottom-menu-open">Vises når bottom-menu er åben</div>' +
            '<div class="hide-for-bottom-menu-open">Vises når bottom-menu er lukket</div>' +

            '<div class="show-for-mouse">Vises kun, hvis der er en mus</div>').appendTo(main.$mainContainer);

        var fileViewModal;
        $('<button>4xFile-view</button>')
            .appendTo( main.$mainContainer)
            .on('click', function(e){
                fileViewModal = fileViewModal ||
                    $.bsModal({
                        header: '4xfile-view',
                        content: [
                            { type: 'fileView', fileName:'https://www.soefartsstyrelsen.dk/Documents/Publikationer/DANSKFYRLISTE2018.pdf', header:{icon:'fa-home', text:'Header'}},
                            { type: 'fileView', fileName:'http://nautiskinformation.soefartsstyrelsen.dk/index.html#/messages/details'},
                            { type: 'fileView', fileName:'https://www.danskehavnelods.dk/'},
                            { type: 'fileView', fileName:'https://niord.dma.dk/rest/repo/file/messages/5/55/555306e4-0b0d-4d62-9a55-36ec64539aa4/2/Inmarsat-C.jpg'},
                            { type: 'fileView', fileName:'https://niord.dma.dk/rest/repo/file/messages/5/55/555306e4-0b0d-4d62-9a55-36ec64539aa4/2/Inmarsat-C.jpg', header:{icon:'fa-home', text:'Header'}}
                        ],
                        flexWidth: true,
                        extraWidth: true,
                    })
                fileViewModal.show();
            });


/*
    <div id="touchMenuLeft">LEFT MENU</div>
    <div class="outer-container">
	    <div id="touchMenuTop">TOP MENU</div>
        <div class="main-container">
            <select id="theSelect" style="width:200px"></select><br>
            <button onClick="fcoo.settings.set('language', 'da');"><span class="fa fa-lang-da"></span>&nbsp;Dansk</button><br>
            <button onClick="fcoo.settings.set('language', 'en');"><i class="fa fa-lang-en"></i>&nbsp;English</button><br><br>
            <button onClick="modalDemo();">Modal demo</button><br><br>
            <button onClick="notyDemo();">Noty demo</button><br><br>

            <div class="show-for-mouse">Vises kun, hvis der er en mus</div>
        </div>
        <div id="touchMenuBottom">BOTTOM MENU<button>En knap</button></div>
    </div>
    <div id="touchMenuRight">RIGHT MENU</div>

*/
/*
            $.each(['languagechanged', 'datetimeformatchanged', 'numberformatchanged', 'latlngformatchanged', 'unitchanged', 'timezonechanged'], function(index, id){
                $.bsModal({
                    header: 'Test af footer '+id,
                    content: 'Davs',
                    footer : fcoo.globalSettingFooter(id, true),
                    show: true
                });
            });
*/
            $('<br>').appendTo(main.$mainContainer);

            $.bsButton({
                icon  : fcoo.settingIcon('fa-map'),
//                selected: true,
                class: 'semi-selected',
                square: true,
             }).appendTo(main.$mainContainer);

            $.bsButton({
                icon  : fcoo.settingIcon('fa-map'),
                square: true,
                bigIcon: true,
             }).appendTo(main.$mainContainer);
main.$mainContainer.append('<br>');
            $.bsButton({
                icon  : 'fa-map',
                square: true,
             }).appendTo(main.$mainContainer);
            $.bsButton({
                icon  : 'fa-map',
                square: true,
                bigIcon: true,
             }).appendTo(main.$mainContainer);
            $.bsButton({
                icon  : 'fa-sync',
                square: true,
             }).appendTo(main.$mainContainer);

            $.bsButton({
                icon  : [['fa-lg fa-grip-lines-vertical', 'fa-lg fa-grip-lines']],
                square: true,
             }).appendTo(main.$mainContainer);

            $.bsButton({
                icon  : fcoo.iconSub('fa-globe', 'fa-clock'),
                selected: true,
                square: true,
             }).appendTo(main.$mainContainer);

            $.bsButton({
                icon  : 'wi wi-day-fog',
                square: true,
             }).appendTo(main.$mainContainer);
        });




    $(function() {
        fcoo.promiseList.options.finally = function(){
            fcoo.globalSetting.load();
            fcoo.appSetting.load();
        };

        fcoo.promiseList_getAll();
    });

    </script>
</body>
</html>
