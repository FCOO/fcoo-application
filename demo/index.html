<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="da" style="font-size: 100%" class="lang-da">
<head>
	<title>fcoo.dk - fcoo-application</title>
	<meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta http-equiv='x-dns-prefetch-control' content='on'>

	<meta name='copyright' content='FCOO'>
	<meta name='owner' content='FCOO'>

    <link  href="bower_components.css" rel="stylesheet">
    <link  href="../src/fcoo-application.css" rel="stylesheet">
    <style>
        /* Test */

        body {
//            background-color: gray;
        }

        .main-container {
            background-color: yellow;//gray;
            border-bottom: 10px solid red;
        }

        .touch-menu-handle {
//            background-color: green;
        }
    </style>

</head>

<body>
    <div class="loading fcoo-app-background">
        <div class="version fcoo-app-color"></div>
        <div class="logo fcoo-app-color"></div>
    </div>

    <script src="bower_components.js"></script>

    <!-- <script src="../src/fcoo-application-global-events.js"></script> -->
    <script src="../src/fcoo-application-about.js"></script>
    <script src="../src/fcoo-application-general.js"></script>
    <script src="../src/fcoo-application-help.js"></script>
    <script src="../src/fcoo-application-icon.js"></script>
    <script src="../src/fcoo-application-main.js"></script>
    <script src="../src/fcoo-application-message-group.js"></script>
    <script src="../src/fcoo-application-mmenu.js"></script>
    <script src="../src/fcoo-application-offline.js"></script>
    <script src="../src/fcoo-application-promise.js"></script>
    <script src="../src/fcoo-application-setting.js"></script>
    <script src="../src/fcoo-application-touch.js"></script>
    <script src="../src/fcoo-application-top-menu.js"></script>



	<script>
        //window.fcoo.LOCAL_DATA = true;

        window.bsIsTouch = false;
        window.bsIsTouch = (window.location.search =='?touch');


        i18next.init();
        i18next.changeLanguage('en');


        var colors = ['#214A87', '#CDBE23', '#CD2B23', '#CD8E23'], colorIndex = 0;

//        window.fcoo.LOCAL_DATA = true;
/*
        var $select = $('#theSelect');
        var optionList = [
            { da: 'Dette er nummer ET', en:'This is number ONE'},
            { da: 'Dette er nummer TO', en:'This is number TWO'},
            { da: 'Dette er nummer TRE', en:'This is number THREE'},
            { da: 'Dette er nummer FIRE', en:'This is number FOUR'}
        ];

        i18next.addPhrase( 'test', 'title', {
            da:'Dette er title for nummer {{count}}',
            en:'This is the title for #{{count}}'
        });

        for (var i=0; i<optionList.length; i++ ){
            var option = optionList[i];
            i18next.addPhrase( 'test', 'item'+i, option );

            var $option = $('<option/>')
                            .i18n('test:item'+i )
                            .i18n('test:title', 'title', {count: i+1} )
                            .appendTo($select);

        }
*/

        function modalDemo(){
            $.bsModal({
                header: {
                    text: 'Davs'
                },
                icons: {
                    back: { onClick: function(){} },
                    forward: { onClick: function(){} },
                },

                onPin    : function(){},
                onNew    : function(){},
                onInfo   : function(){},
                onWarning: function(){},

                helpId: 'help1',
                helpButton: true,
                extended: {
                    content: 'Hej<br>Dette er udvidet'
                },
                buttons: [
                    {text:'Test', onClick: function(){ alert('Test'); }},
                ],
                content: 'Content',
                show: true
            });

        }

        function notyDemo(){
            var layout = ['topLeft', 'topCenter', 'topRight', 'centerRight', 'bottomCenter', 'center'];
            var type   = ['alert',   'success',   'warning',  'error',        'info',        'help' ];

            $.each(type, function(index, type){
                $.bsNoty({
                    type: type,
                    queue: type,
                    layout: layout[index],
                    //modal: (type=='info'),
                    //force: (type=='info'),
                    defaultHeader: true,
                    text: [
                        layout[index]+'<br>',
                        {text: {da: 'Noget tekst ', en: 'Some text '}},
                        Math.random()
                    ],
                    //show: true

                });
            });
            $.bsNotyOk({da: 'Noget lykkedes', en: 'Something succeeded'});

        }

        function setModeOver(menu){
//HER            menu.close(true);
            menu.setMode(true);
        };
        function setModeSide(menu){
//HER            menu.close(true);
            menu.setMode(false);

        };

        var main;
        $(function() {
            var $rightMenu = $('<div/>');
            $rightMenu.append('Start');
            for (var i=0; i<100; i++){
                $('<div/>')
                    .css({width: '100%', border:'1px solid red'})
                    .text(i)
                    .on('click', function(){
                        //alert( $(this).text());
                    })
                    .appendTo($rightMenu);
            }
            $rightMenu.append('SLUT');

            main = window.fcoo.createMain({
                    mainContainerAsHandleContainer: true,
                    minMainWidth: 456,
                    topMenu: {
                        //search: false,
                        preSetting: {
                            icon: 'far fa-map',
                            onClick: function(){alert('godt');  }
                        },
                        help: {
                            //url: ['data/help.json', 'data/about_fcoo.json', {fileName: "fcoo-maps-help_NY.json", subDir: "help"}]
                            url: {fileName: "fcoo-maps-help.json", subDir: "help"}

                        },
                        MANGLERmessages: {
//HER                            url: 'data/info.json data/show_on_load.json'
                            url: 'data/show_on_load.json'
                        },
                        MANGLERwarning: {
                            url: 'data/oceanforecast_warning.json data/oceanforecast_warning2.json',
                            //reloadPeriod: 'PT5S',
                        },
                        preSetting: {
                            icon   : window.fcoo.settingIcon('fa-map'),
                            onClick: function(){ console.log('Click on preSetting'); }
                        },

                    },
                    leftMenu  : {
                        width: 321, 
                        menuOptions: {
                            onChange: function(id, state, item){
                                console.log('GLOBAL onChange', id, state, item);
                            },
                            list: [{
                                icon: 'fa fa-map',
                                text: {da:'FÃ¸rste', en:'First'},
                                addToBar: true,
                                list: [{
                                    text: 'Item 1-1'
                                }, {
                                    type: "text", text: 'Item 1-2 der er meget lang med en masse tekst der gerne skal vises over flere linier', 
                                }]
                            }, {
                                        text: {da:'Overflade', en:'Surface'},
                                list: [{
                                    id: 'HER', text: 'HER Item 2-1', icon:'fa-home',
                                    list: [{
                                        text: 'Item 2-1-1 der er meget lang med en masse tekst der gerne skal vises over flere linier', icon:'fa-home', type:'checkbox', state: true
                                    }, {
                                        text: 'Item 2-1-2', type: 'checkbox'
                                    }, {
                                        text: 'Item 2-1-3', type: 'radio', state:123, icon:['fa-home', 'fa-map'],
                                    }, {
                                        text: 'Item 2-1-4', type: 'radio', state: true
                                    }]
                                }, {
                                    id:'SEALVL', text: {da: 'Vandstand', en:'Sea Level'},
                                    list: [
                                        {
                                            id: 'sealvl1',
                                            type:'radio', 
                                            content: [
                                                {text: {da: '1: Indre Danske Farvande', en:'1: Inner Danish Waters'}},
                                                $('<img height="30px" src="https://wms01.fcoo.dk/webmap/v2/data/DMI/HARMONIE/DMI_NEA_MAPS_v005C.nc.wms?request=GetColorbar&styles=horizontal%2Cnolabel&cmap=Wind_ms_BGYRP_11colors"/>'),
                                                //$('<img height="30px" src="https://wms01.fcoo.dk/webmap/v2/data/DMI/HARMONIE/DMI_NEA_MAPS_v005C.nc.wms?request=GetColorbar&styles=horizontal%2Cnolabel&cmap=Wind_ms_BGYRP_11colors"/>')
                                            ]
                                        }, {
                                            id: 'sealvl2',
                                            type:'radio', 
                                            content: [
                                                {text: {da: '2: Navigation', en:'2: Navigation'}},
                                                $('<img height="30px" src="https://wms01.fcoo.dk/webmap/v2/data/DMI/HARMONIE/DMI_NEA_MAPS_v005C.nc.wms?request=GetColorbar&styles=horizontal%2Cnolabel&cmap=Wind_ms_BGYRP_11colors"/>')
                                            ]
                                        }, {
                                            id: 'sealvl3',
                                            type:'radio', 
                                            content: [
                                                {text: {da: '3: Noget andet', en:'3: Something else'}},
                                                $('<img height="30px" src="https://wms01.fcoo.dk/webmap/v2/data/DMI/HARMONIE/DMI_NEA_MAPS_v005C.nc.wms?request=GetColorbar&styles=horizontal%2Cnolabel&cmap=Wind_ms_BGYRP_11colors"/>')
                                            ],
                                    }]
                                }]
                            }]
                        },

                        keepMenuButton: true, //Keeps the left menu-button even if leftMenu is null
                        buttons: {
                            //preButtons  = []buttonOptions or buttonOptions or null //Individuel button(s) placed before the standard buttons
                            save    :   function(){ console.log('save') }, //Standard save-button
                            load    :   function(){ console.log('load') }, //Standard load-button
                            bookmark:   function(){ console.log('bookmark') }, //Standard bootmark-button
                            share   :   function(){
                                            if (navigator.share) {
                                                navigator.share({
                                                    title: 'WebShare API Demo',
                                                    url: 'https://codepen.io/ayoisaiah/pen/YbNazJ'
                                                })
                                                .then(function(){
                                                    console.log('Thanks for sharing!');
                                                })
                                                .catch(console.error);
                                            }
                                            else {
                                                // fallback
                                                console.log('no share')
                                            }
                                        },
                            user   : function(){ console.log('user') },
                            setting: function(){ console.log('setting') },
                            postButtons: {icon: fcoo.settingIcon('fa-map')} // = []buttonOptions or buttonOptions or null //Individuel button(s) placed after the standard buttons
                        }
                    },

                    rightMenu : {
                        width: 200,
                        $menu: $rightMenu
                    },
                    _keepRightMenuButton: true, //Keeps the right menu-button even if leftMenu is null

                    bottomMenu: {
                        height : 'auto',
                        standardHandler: true,


                        $menu: $('<div style="background-color: green"/>')
                                .append( $('<div style="width:50%; border-bottom: 10px solid blue" class="show-for-landscape">LANDSCAPE 1<br>2<br>3</div>') )
                                .append( $('<div style="width:50%; border-bottom: 10px solid brown" class="show-for-portrait">PORTRAIT 1<br>2<br>3<br>4<br>5</div>') )
//HER                        content: function($container){
//HER                            $container.text('Davs'); 
//HER                        }
                    },
                    onResizeStart: function(main){
                        //console.log('>>resize START', main.$mainContainer.width());
                    },
                    onResizeEnd: function(main){
                        //console.log('>>resize END', main.$mainContainer.width());
                    }
            });

            $('<select id="theSelect" style="width:200px"></select><br>'+
            '<button onClick="fcoo.globalSetting.set(\'language\', \'da\');"><span class="fa fa-lang-da"></span>&nbsp;Dansk</button>'+
            '<button onClick="fcoo.globalSetting.set(\'language\', \'en\');"><i class="fa fa-lang-en"></i>&nbsp;English</button><br>'+
            '<button onClick="modalDemo();">Modal demo</button>'+
            '<button onClick="notyDemo();">Noty demo</button>'+
            '<div class="show-for-mouse">Vises kun, hvis der er en mus</div>').appendTo(main.$mainContainer);


/*
    <div id="touchMenuLeft">LEFT MENU</div>
    <div class="outer-container">
	    <div id="touchMenuTop">TOP MENU</div>
        <div class="main-container">
            <select id="theSelect" style="width:200px"></select><br>
            <button onClick="fcoo.settings.set('language', 'da');"><span class="fa fa-lang-da"></span>&nbsp;Dansk</button><br>
            <button onClick="fcoo.settings.set('language', 'en');"><i class="fa fa-lang-en"></i>&nbsp;English</button><br><br>
            <button onClick="modalDemo();">Modal demo</button><br><br>
            <button onClick="notyDemo();">Noty demo</button><br><br>

            <div class="show-for-mouse">Vises kun, hvis der er en mus</div>
        </div>
        <div id="touchMenuBottom">BOTTOM MENU<button>En knap</button></div>
    </div>
    <div id="touchMenuRight">RIGHT MENU</div>

*/
/*
            $.each(['languagechanged', 'datetimeformatchanged', 'numberformatchanged', 'latlngformatchanged', 'unitchanged', 'timezonechanged'], function(index, id){
                $.bsModal({
                    header: 'Test af footer '+id,
                    content: 'Davs',
                    footer : fcoo.globalSettingFooter(id, true),
                    show: true
                });
            });
*/
            $('<br>').appendTo(main.$mainContainer);

            $.bsButton({
                icon  : fcoo.settingIcon('fa-map'),
                square: true,
             }).appendTo(main.$mainContainer);

            $.bsButton({
                icon  : fcoo.settingIcon('fa-map'),
                square: true,
                bigIcon: true,
             }).appendTo(main.$mainContainer);
main.$mainContainer.append('<br>');
            $.bsButton({
                icon  : 'fa-map',
                square: true,
             }).appendTo(main.$mainContainer);
            $.bsButton({
                icon  : 'fa-map',
                square: true,
                bigIcon: true,
             }).appendTo(main.$mainContainer);
            $.bsButton({
                icon  : 'fa-sync',
                square: true,
             }).appendTo(main.$mainContainer);

            $.bsButton({
                icon  : [['fa-lg fa-grip-lines-vertical', 'fa-lg fa-grip-lines']],
                square: true,
             }).appendTo(main.$mainContainer);

            $.bsButton({
                icon  : fcoo.iconSub('fa-globe', 'fa-clock'),
                square: true,
             }).appendTo(main.$mainContainer);

            $.bsButton({
                icon  : 'wi wi-day-fog',
                square: true,
             }).appendTo(main.$mainContainer);
        });




    $(function() {
        fcoo.promiseList.options.finally = function(){
            fcoo.globalSetting.load();
            fcoo.appSetting.load();
        };

        fcoo.promiseList_getAll();
    });

    </script>
</body>
</html>
